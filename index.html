<!DOCTYPE html>
<html>
	<head>
		<link rel="stylesheet" href="style.css">
		<title>bullshit job data generator</title>

		<script language="javascript">
			var request = new XMLHttpRequest();
			request.open('GET', 'bullshit-job-titles.json', true);

			request.onload = function() {
			  if (this.status >= 200 && this.status < 400) {
			    // Success!
			    var data = JSON.parse(this.response);
			    generate(data);
			  } else {
			    // We reached our target server, but it returned an error

			  }
			};

			request.onerror = function() {
			  // There was a connection error of some sort
			};

			request.send();

			function generate(data) {
				index1 = Math.floor(Math.random() * data.first.length);
				index2 = Math.floor(Math.random() * data.last.length);
				var jobtitle = data.first[index1] + " " + data.last[index2];
				var matches = jobtitle.match(/\b(\w)/g);
				var jobacronym = matches.join('');
				document.getElementById("newtitle").innerHTML = jobtitle + " (" + jobacronym + ")";
			}
		</script>
	</head>
	<body>
		<button id="generator" onclick="generate()" class="button">Generate new</button>
		<p id="newtitle"></p>
		<!-- It needs a badge -->
		<script src="https://raw.githubusercontent.com/bullgit/bullgit-badges/master/bullgit-badges.min.js"></script>
	</body>

</html>
